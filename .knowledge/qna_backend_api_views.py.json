{"is_source_file": true, "format": "Python", "description": "This Python source file defines Django REST Framework views for handling user authentication, conversation management, and chat interactions in an AI chat application. It includes class-based views for sign-up, login, listing, creating, retrieving, deleting conversations, and a chat endpoint for exchanging messages with an AI model.", "external_files": ["django.contrib.auth", "django.db", "drf_yasg.utils", "drf_yasg", "rest_framework", "rest_framework_simplejwt.tokens", "./models", "./serializers", "./services"], "external_methods": ["django.contrib.auth.authenticate", "rest_framework.status", "rest_framework.permissions.IsAuthenticated", "rest_framework.decorators.api_view", "rest_framework.response.Response", "rest_framework.views.APIView", "rest_framework_simplejwt.tokens.RefreshToken", "get_chat_response", "ChatServiceError"], "published": ["health", "SignupView", "LoginView", "ConversationListCreateView", "ConversationDetailView", "ChatView"], "classes": [{"name": "SignupView", "description": "Handles user registration."}, {"name": "LoginView", "description": "Handles user authentication and JWT token issuance."}, {"name": "ConversationListCreateView", "description": "Allows listing and creating conversations for an authenticated user."}, {"name": "ConversationDetailView", "description": "Retrieve or delete specific conversations."}, {"name": "ChatView", "description": "Main endpoint for exchanging messages with AI, managing conversations."}], "methods": [{"name": "health(request)", "description": "A simple health check endpoint that confirms server availability.", "scope": "", "scopeKind": ""}, {"name": "post (SignupView)", "description": "Creates new user account from provided serializer data."}, {"name": "post (LoginView)", "description": "Authenticates user and returns JWT tokens and user info."}, {"name": "get (ConversationListCreateView)", "description": "Retrieves list of conversations for the authenticated user."}, {"name": "post (ConversationListCreateView)", "description": "Creates a new conversation for the current user."}, {"name": "get (ConversationDetailView)", "description": "Retrieves details and messages of a specific conversation."}, {"name": "delete (ConversationDetailView)", "description": "Deletes a specific conversation and its messages."}, {"name": "post (ChatView)", "description": "Handles sending user message, saving it, invoking AI response, saving response, and returning full message history."}, {"name": "delete(self, request, conversation_id: int)", "scope": "ConversationDetailView", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self, request)", "scope": "ConversationListCreateView", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self, request, conversation_id: int)", "scope": "ConversationDetailView", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, request)", "scope": "SignupView", "scopeKind": "class", "description": "unavailable"}], "calls": ["django.contrib.auth.authenticate", "Conversation.objects.filter", "Conversation.objects.create", "Message.objects.create", "get_chat_response", "MessageSerializer", "conv.messages.order_by", "conv.refresh_from_db"], "search-terms": ["ChatView", "Conversation", "Messages", "JWT", "sign-up", "login", "APIViews", "django rest framework", "AI chat"], "state": 2, "file_id": 5, "knowledge_revision": 52, "git_revision": "5179f4c1a1ea788dc2deb48787ede9fe5cf3a590", "revision_history": [{"24": "6bca98a87662a3093ddb9c86bcc22b77d70a5c77"}, {"44": "6bca98a87662a3093ddb9c86bcc22b77d70a5c77"}, {"52": "5179f4c1a1ea788dc2deb48787ede9fe5cf3a590"}], "ctags": [{"_type": "tag", "name": "ChatView", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^class ChatView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ConversationDetailView", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^class ConversationDetailView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ConversationListCreateView", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^class ConversationListCreateView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LoginView", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^class LoginView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SignupView", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^class SignupView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def delete(self, request, conversation_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, request, conversation_id: int)", "scope": "ConversationDetailView", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def get(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "ConversationListCreateView", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def get(self, request, conversation_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, request, conversation_id: int)", "scope": "ConversationDetailView", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "ChatView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "ConversationDetailView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.IsAuthenticated]$/", "language": "Python", "kind": "variable", "scope": "ConversationListCreateView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "ChatView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "ConversationListCreateView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "LoginView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/intelligent-qna-chatbot-platform-2776-2786/qna_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "SignupView", "scopeKind": "class"}], "hash": "926e8f6f226eb683b081d25bb4fbbd00", "format-version": 4, "code-base-name": "qna_backend", "filename": "qna_backend/api/views.py", "fields": [{"name": "permission_classes = [permissions.IsAuthenticated]", "scope": "ChatView", "scopeKind": "class", "description": "unavailable"}]}